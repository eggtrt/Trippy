<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>여행 계획 만들기 | TRIPPY</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="top-nav">
    <div class="nav-left">
      <div class="logo" onclick="window.location.href='index.html'">
        <span class="logo-mark">T</span>
        <span class="logo-text">TRIPPY</span>
      </div>
      <nav class="nav-links">
        <a href="index.html">홈</a>
        <a href="plan.html" class="active">여행 계획</a>
        <a href="my-trips.html">내 여행</a>
        <a href="calendar.html">캘린더</a>
      </nav>
    </div>
    <div class="nav-actions">
      <button class="pill ghost" id="userBtn" style="display:none;">
        <span id="userName"></span>
      </button>
      <button class="pill primary" id="loginBtn">Google 로그인</button>
    </div>
  </header>

  <main>
    <!-- Plan Creation Flow -->
    <section class="plan-flow-section">
      <div class="plan-container">
        <!-- Step 1: Region Selection -->
        <div class="plan-step active" id="step1">
          <div class="step-header">
            <div class="step-progress">
              <span class="step-number">1</span>
              <span class="step-total">/5</span>
            </div>
            <h2>떠나고 싶은 도시는?</h2>
            <p class="step-desc">도시 1곳을 선택해주세요.</p>
          </div>
          
          <div class="region-grid">
            <div class="region-category">
              <h3>일본</h3>
              <div class="region-options">
                <button class="region-btn" data-region="도쿄" data-region-id="tokyo">도쿄</button>
                <button class="region-btn" data-region="오사카" data-region-id="osaka">오사카</button>
                <button class="region-btn" data-region="후쿠오카" data-region-id="fukuoka">후쿠오카</button>
                <button class="region-btn" data-region="오키나와" data-region-id="okinawa">오키나와</button>
                <button class="region-btn" data-region="삿포로" data-region-id="sapporo">삿포로</button>
              </div>
            </div>
            <div class="region-category">
              <h3>대한민국</h3>
              <div class="region-options">
                <button class="region-btn" data-region="제주" data-region-id="jeju">제주</button>
                <button class="region-btn" data-region="부산" data-region-id="busan">부산</button>
                <button class="region-btn" data-region="경주" data-region-id="gyeongju">경주</button>
                <button class="region-btn" data-region="강릉·속초" data-region-id="gangneung">강릉·속초</button>
                <button class="region-btn" data-region="전주" data-region-id="jeonju">전주</button>
              </div>
            </div>
            <div class="region-category">
              <h3>중화/중국</h3>
              <div class="region-options">
                <button class="region-btn" data-region="홍콩" data-region-id="hongkong">홍콩</button>
                <button class="region-btn" data-region="타이베이" data-region-id="taipei">타이베이</button>
                <button class="region-btn" data-region="상하이" data-region-id="shanghai">상하이</button>
                <button class="region-btn" data-region="베이징" data-region-id="beijing">베이징</button>
              </div>
            </div>
            <div class="region-category">
              <h3>동남아시아</h3>
              <div class="region-options">
                <button class="region-btn" data-region="방콕" data-region-id="bangkok">방콕</button>
                <button class="region-btn" data-region="다낭" data-region-id="danang">다낭</button>
                <button class="region-btn" data-region="푸켓" data-region-id="phuket">푸켓</button>
                <button class="region-btn" data-region="싱가포르" data-region-id="singapore">싱가포르</button>
              </div>
            </div>
            <div class="region-category">
              <h3>유럽</h3>
              <div class="region-options">
                <button class="region-btn" data-region="파리" data-region-id="paris">파리</button>
                <button class="region-btn" data-region="로마" data-region-id="rome">로마</button>
                <button class="region-btn" data-region="런던" data-region-id="london">런던</button>
                <button class="region-btn" data-region="바르셀로나" data-region-id="barcelona">바르셀로나</button>
              </div>
            </div>
          </div>
          
          <div class="step-actions">
            <button class="btn-next" disabled id="nextStep1">다음</button>
          </div>
        </div>

        <!-- Step 2: Period Selection -->
        <div class="plan-step" id="step2">
          <div class="step-header">
            <div class="step-progress">
              <span class="step-number">2</span>
              <span class="step-total">/5</span>
            </div>
            <h2>여행 기간은?</h2>
            <p class="step-desc">원하는 기간을 선택해 주세요.</p>
          </div>
          
          <div class="period-grid">
            <button class="period-btn" data-days="1" data-nights="0">당일치기</button>
            <button class="period-btn" data-days="2" data-nights="1">1박 2일</button>
            <button class="period-btn" data-days="3" data-nights="2">2박 3일</button>
            <button class="period-btn" data-days="4" data-nights="3">3박 4일</button>
            <button class="period-btn" data-days="5" data-nights="4">4박 5일</button>
            <button class="period-btn" data-days="6" data-nights="5">5박 6일</button>
          </div>
          
          <div class="step-actions">
            <button class="btn-back" onclick="goToStep(1)">이전</button>
            <button class="btn-next" disabled id="nextStep2">다음</button>
          </div>
        </div>

        <!-- Step 3: Who -->
        <div class="plan-step" id="step3">
          <div class="step-header">
            <div class="step-progress">
              <span class="step-number">3</span>
              <span class="step-total">/5</span>
            </div>
            <h2>누구와 함께 가나요?</h2>
            <p class="step-desc">동행자를 선택해주세요.</p>
          </div>
          
          <div class="who-grid">
            <button class="who-btn" data-who="alone">혼자</button>
            <button class="who-btn" data-who="couple">연인</button>
            <button class="who-btn" data-who="friends">친구</button>
            <button class="who-btn" data-who="family">가족</button>
            <button class="who-btn" data-who="colleagues">동료</button>
          </div>
          
          <div class="step-actions">
            <button class="btn-back" onclick="goToStep(2)">이전</button>
            <button class="btn-next" disabled id="nextStep3">다음</button>
          </div>
        </div>

        <!-- Step 4: Style Selection -->
        <div class="plan-step" id="step4">
          <div class="step-header">
            <div class="step-progress">
              <span class="step-number">4</span>
              <span class="step-total">/5</span>
            </div>
            <h2>내가 선호하는 여행 스타일은?</h2>
            <p class="step-desc">다중 선택이 가능해요.</p>
          </div>
          
          <div class="style-grid">
            <button class="style-btn" data-style="activity">체험·액티비티</button>
            <button class="style-btn" data-style="hotplace">SNS 핫플레이스</button>
            <button class="style-btn" data-style="nature">자연과 함께</button>
            <button class="style-btn" data-style="landmark">유명 관광지는 필수</button>
            <button class="style-btn" data-style="healing">여유롭게 힐링</button>
            <button class="style-btn" data-style="culture">문화·예술·역사</button>
            <button class="style-btn" data-style="local">여행지 느낌 물씬</button>
            <button class="style-btn" data-style="shopping">쇼핑은 열정적으로</button>
            <button class="style-btn" data-style="food">관광보다 먹방</button>
          </div>
          
          <div class="step-actions">
            <button class="btn-back" onclick="goToStep(3)">이전</button>
            <button class="btn-next" disabled id="nextStep4">다음</button>
          </div>
        </div>

        <!-- Step 5: AI Chat or Review -->
        <div class="plan-step" id="step5">
          <div class="step-header">
            <div class="step-progress">
              <span class="step-number">5</span>
              <span class="step-total">/5</span>
            </div>
            <h2>AI 챗봇으로 계획 짜기</h2>
            <p class="step-desc">추가 요청사항이 있으면 말씀해주세요. 없으면 바로 계획을 생성합니다.</p>
          </div>
          
          <div class="ai-chat-plan">
            <div class="chat-summary">
              <h3>입력한 정보</h3>
              <div class="summary-item">
                <strong>도시:</strong> <span id="summaryRegion">-</span>
              </div>
              <div class="summary-item">
                <strong>기간:</strong> <span id="summaryPeriod">-</span>
              </div>
              <div class="summary-item">
                <strong>동행자:</strong> <span id="summaryWho">-</span>
              </div>
              <div class="summary-item">
                <strong>스타일:</strong> <span id="summaryStyle">-</span>
              </div>
            </div>
            
            <div class="chat-interface-plan">
              <div class="chat-messages" id="chatMessages">
                <div class="chat-msg ai">
                  <div class="msg-avatar-small">트리피</div>
                  <div class="msg-bubble">안녕! 입력한 정보로 계획을 짜줄게. 추가로 원하는 게 있으면 말해줘! 예를 들어 "맛집 위주로", "힐링 중심으로" 같은 거야😊</div>
                </div>
              </div>
              <div class="chat-input-area">
                <input type="text" id="chatInput" placeholder="메시지를 입력하세요..." class="chat-input">
                <button class="chat-send-btn" id="sendChatBtn">전송</button>
              </div>
            </div>
          </div>
          
          <div class="step-actions">
            <button class="btn-back" onclick="goToStep(4)">이전</button>
            <button class="btn-primary" id="generatePlanBtn">계획 생성하기</button>
          </div>
        </div>

        <!-- Loading Step -->
        <div class="plan-step" id="stepLoading">
          <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>여행 스타일에 맞는 맞춤 일정을 준비중입니다.</h2>
            <p>잠시만 기다려 주세요.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="logo">TRIPPY</div>
    <div class="footer-links">
      <a href="#">회사소개</a>
      <a href="#">이용약관</a>
      <a href="#">개인정보처리방침</a>
      <a href="#">고객센터</a>
    </div>
    <p class="footnote">© TRIPPY. All rights reserved.</p>
  </footer>

  <script src="plan.js"></script>
</body>
</html>

